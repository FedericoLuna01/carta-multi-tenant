(()=>{var e={};e.id=4734,e.ids=[4734],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},21223:()=>{},34837:()=>{},73698:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d}),t(99378),t(2127),t(30655),t(64499),t(10898),t(50945),t(75291);var r=t(69132),n=t(15459),i=t(71584),o=t.n(i),s=t(57131),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);t.d(a,l);let d=["",{children:["(app)",{children:["dashboard",{user:["children",{children:["ordenes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,99378)),"D:\\Workspace\\carta-multi-tenant\\apps\\web\\app\\(app)\\dashboard\\@user\\ordenes\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,2127)),"D:\\Workspace\\carta-multi-tenant\\apps\\web\\app\\(app)\\dashboard\\@user\\ordenes\\loading.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,30655)),"D:\\Workspace\\carta-multi-tenant\\apps\\web\\app\\(app)\\dashboard\\@user\\loading.tsx"]}],children:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(t.t.bind(t,64499,23)),"next/dist/client/components/parallel-route-default.js"]}],admin:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(t.t.bind(t,64499,23)),"next/dist/client/components/parallel-route-default.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,10898)),"D:\\Workspace\\carta-multi-tenant\\apps\\web\\app\\(app)\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,50945)),"D:\\Workspace\\carta-multi-tenant\\apps\\web\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,75291,23)),"next/dist/client/components/not-found-error"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,75291,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\Workspace\\carta-multi-tenant\\apps\\web\\app\\(app)\\dashboard\\@user\\ordenes\\page.tsx"],c="/(app)/dashboard/@user/ordenes/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(app)/dashboard/@user/ordenes/page",pathname:"/dashboard/ordenes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45325:(e,a,t)=>{Promise.resolve().then(t.bind(t,78415)),Promise.resolve().then(t.bind(t,66222))},73245:()=>{},61183:(e,a,t)=>{"use strict";t.d(a,{default:()=>x});var r=t(10870),n=t(79530),i=t(6928),o=t(53524),s=t(22698),l=t(78250),d=t(66245),u=t(32806),c=t(31058),m=t(94942);let h={PENDING:{color:"bg-yellow-200 hover:bg-yellow-300 border-yellow-400 text-black",label:"Pendiente"},PAID:{color:"bg-green-400 hover:bg-green-500 border-green-600 text-black",label:"Pagado"}},p=({orderPaymentStatus:e})=>{let a=h[e];return r.jsx(m.C,{className:a.color,children:a.label})};var g=t(55575),b=t(97453);let f=n.Ry({state:n.Km(["PENDING","PAID"])}),x=({order:e})=>{let[a,t]=(0,l.useState)(!1),n=(0,c.aF)(),m=(0,i.cI)({resolver:(0,s.F)(f),defaultValues:{state:e.paymentStatus}});async function h(a){try{t(!0),await g.Z.patch(`/api/${n.slug}/orders/${e.id}`,{paymentStatus:a}),b.ZP.success("Pago actualizado")}catch(e){b.ZP.error("Algo sali\xf3 mal")}finally{t(!1)}}return r.jsx(d.l0,{...m,children:r.jsx("form",{className:"max-w-[150px]",children:r.jsx(d.Wi,{control:m.control,name:"state",render:({field:t})=>r.jsx(d.xJ,{children:(0,r.jsxs)(u.Ph,{onValueChange:e=>{t.onChange(e),h(e)},defaultValue:e.paymentStatus,disabled:a,children:[r.jsx(d.NI,{children:r.jsx(u.i4,{children:r.jsx(u.ki,{placeholder:"Estado de la orden"})})}),r.jsx(u.Bw,{children:Object.values(o.OrderPaymentStatus).map(e=>r.jsx(u.Ql,{value:e,disabled:a,children:r.jsx(p,{orderPaymentStatus:e})},e))})]})})})})})}},80604:(e,a,t)=>{"use strict";t.d(a,{StatusSelect:()=>f});var r=t(10870),n=t(22698),i=t(6928),o=t(79530),s=t(97453),l=t(66245),d=t(32806),u=t(53524),c=t(84429),m=t(55575),h=t(78250),p=t(31058),g=t(94942);let b=o.Ry({state:o.Km(["PENDING","IN_PROGRESS","ON_THE_WAY","READY","DONE","CANCELED"])});function f({order:e}){let[a,t]=(0,h.useState)(!1),o=(0,p.aF)(),f=(0,i.cI)({resolver:(0,n.F)(b),defaultValues:{state:e.status}}),x=(0,h.useCallback)(async a=>{try{t(!0),await m.Z.patch(`/api/${o.slug}/orders/${e.id}`,{status:a}),s.ZP.success("Estado actualizado")}catch(e){s.ZP.error("Algo sali\xf3 mal")}finally{t(!1)}},[o.slug,e.id]),v=Object.values(u.OrderStatus).map(e=>"PENDING"===e?{value:e,label:"Pendiente"}:"IN_PROGRESS"===e?{value:e,label:"En progreso"}:"ON_THE_WAY"===e?{value:e,label:"En camino"}:"READY"===e?{value:e,label:"Listo"}:"DONE"===e?{value:e,label:"Entregado"}:"CANCELED"===e?{value:e,label:"Cancelado"}:void 0);return r.jsx(l.l0,{...f,children:r.jsx("form",{className:"max-w-[150px]",children:r.jsx(l.Wi,{control:f.control,name:"state",render:({field:t})=>r.jsx(l.xJ,{children:(0,r.jsxs)(d.Ph,{onValueChange:e=>{t.onChange(e),x(e)},defaultValue:e.status,disabled:a,children:[r.jsx(l.NI,{children:r.jsx(d.i4,{children:r.jsx(d.ki,{placeholder:"Estado de la orden"})})}),r.jsx(d.Bw,{children:v&&v.map(e=>r.jsx(d.Ql,{value:e.value,children:r.jsx(g.C,{className:(0,c.cn)("text-black",{"bg-yellow-200 hover:bg-yellow-300 border-yellow-400":"PENDING"===e.value,"bg-orange-200 hover:bg-orange-300 border-orange-400":"IN_PROGRESS"===e.value,"bg-blue-200 hover:bg-blue-300 border-blue-400":"ON_THE_WAY"===e.value,"bg-emerald-200 hover:bg-emerald-300 border-emerald-400":"READY"===e.value,"bg-green-200 hover:bg-green-300 border-green-400":"DONE"===e.value,"bg-red-200 hover:bg-red-300 border-red-400":"CANCELED"===e.value}),children:e.label})},e.value))})]})})})})})}},78415:(e,a,t)=>{"use strict";t.d(a,{OrdersPageClient:()=>J});var r=t(10870);t(14978);var n=t(78250),i=t(31058),o=t(68917);let s=(0,o.Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),l={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}};function d(e){return (a={})=>{let t=a.width?String(a.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}let u={date:d({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:d({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:d({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},c={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},m={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};function h(e){return(a,t)=>{let r;if("formatting"===(t?.context?String(t.context):"standalone")&&e.formattingValues){let a=e.defaultFormattingWidth||e.defaultWidth,n=t?.width?String(t.width):a;r=e.formattingValues[n]||e.formattingValues[a]}else{let a=e.defaultWidth,n=t?.width?String(t.width):e.defaultWidth;r=e.values[n]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(a):a]}}function p(e){return(a,t={})=>{let r=a.match(e.matchPattern);if(!r)return null;let n=r[0],i=a.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:a.slice(n.length)}}}function g(e){return(a,t={})=>{let r;let n=t.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=a.match(i);if(!o)return null;let s=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,a){for(let t=0;t<e.length;t++)if(a(e[t]))return t}(l,e=>e.test(s)):function(e,a){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&a(e[t]))return t}(l,e=>e.test(s));return r=e.valueCallback?e.valueCallback(d):d,{value:r=t.valueCallback?t.valueCallback(r):r,rest:a.slice(s.length)}}}let b={code:"es",formatDistance:(e,a,t)=>{let r;let n=l[e];return(r="string"==typeof n?n:1===a?n.one:n.other.replace("{{count}}",a.toString()),t?.addSuffix)?t.comparison&&t.comparison>0?"en "+r:"hace "+r:r},formatLong:u,formatRelative:(e,a,t,r)=>1!==a.getHours()?m[e]:c[e],localize:{ordinalNumber:(e,a)=>Number(e)+"\xba",era:h({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:h({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:h({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:h({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:h({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:p({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:g({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:g({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:g({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:g({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:g({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},f={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x={date:d({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:d({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:d({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},v={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y={code:"en-US",formatDistance:(e,a,t)=>{let r;let n=f[e];return(r="string"==typeof n?n:1===a?n.one:n.other.replace("{{count}}",a.toString()),t?.addSuffix)?t.comparison&&t.comparison>0?"in "+r:r+" ago":r},formatLong:x,formatRelative:(e,a,t,r)=>v[e],localize:{ordinalNumber:(e,a)=>{let t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},era:h({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:h({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:h({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:h({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:h({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:p({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:g({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:g({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:g({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:g({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:g({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},j={};var w=t(19495);function P(e){let a=(0,w.Q)(e),t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),+e-+t}var C=t(41600),M=t(97453),W=t(19626),N=t(68800);let k=(0,o.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),S=(0,o.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var A=t(72205),D=t(55575),E=t(82400),T=t(22378),q=t(6120),_=t(6848);let z=({data:e})=>{let[a,t]=(0,n.useState)(!1),[o,s]=(0,n.useState)(!1),l=(0,E.useRouter)(),d=(0,i.aF)(),u=async()=>{try{s(!0),await D.Z.delete(`/api/${d.slug}/orders/${e.id}`),l.refresh(),M.ZP.success("Orden eliminada")}catch(e){M.ZP.error("Algo salio mal")}finally{s(!1),t(!1)}},c=`Hola ${e.name}.`;return(0,r.jsxs)(r.Fragment,{children:[r.jsx(q.V,{isOpen:a,onClose:()=>t(!1),onConfirm:u,loading:o}),(0,r.jsxs)(_.h_,{children:[r.jsx(_.$F,{asChild:!0,children:(0,r.jsxs)(T.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[r.jsx("span",{className:"sr-only",children:"Open menu"}),r.jsx(N.Z,{className:"h-4 w-4"})]})}),(0,r.jsxs)(_.AW,{align:"end",children:[r.jsx(_.Ju,{children:"Acciones"}),r.jsx(_.VD,{}),r.jsx(_.Xi,{asChild:!0,children:(0,r.jsxs)(W.default,{href:`/dashboard/ordenes/${e.id}`,children:[r.jsx(k,{className:"w-5 h-5 mr-2"})," Ver orden"]})}),r.jsx(_.Xi,{asChild:!0,children:(0,r.jsxs)(W.default,{href:`https://wa.me/${e.phone}?text=${c}`,target:"_blank",children:[r.jsx(S,{className:"w-5 h-5 mr-2"}),"Enviar mensaje"]})}),r.jsx(_.VD,{}),(0,r.jsxs)(_.Xi,{onClick:()=>t(!0),className:"text-red-500 hover:bg-red-500 hover:text-white",children:[r.jsx(A.Z,{className:"w-5 h-5 mr-2"}),"Eliminar orden"]})]})]})]})};var O=t(80604),F=t(32494),R=t(35054),Z=t(84429);let H=({data:e})=>{let a=e=>{let a=e.product.name;return e.size&&(a+=` (${e.size.name})`),e.extras&&e.extras.length>0&&(a+=` + ${e.extras.map(e=>e.name).join(", ")}`),a},t=e=>{let a=e.extras?.reduce((e,a)=>e+a.price,0)||0,t=e.size?.price||0,r=e.quantity||0;return 0===t?(a+e.product.price)*r:(a+t)*r},n=e.reduce((e,a)=>e+t(a),0);return(0,r.jsxs)(F.J2,{children:[r.jsx(F.xo,{asChild:!0,children:r.jsx(T.z,{size:"sm",variant:"outline",children:"Ver todos"})}),r.jsx(F.yk,{className:"w-[300px] sm:w-fit",children:(0,r.jsxs)(R.iA,{children:[r.jsx(R.xD,{children:(0,r.jsxs)(R.SC,{children:[r.jsx(R.ss,{children:"Producto"}),r.jsx(R.ss,{children:"Comentario"}),r.jsx(R.ss,{children:"Cantidad"}),r.jsx(R.ss,{children:"Precio"})]})}),r.jsx(R.RM,{children:e.map(e=>(0,r.jsxs)(R.SC,{children:[r.jsx(R.pj,{className:"max-w-[150px]",children:a(e)}),r.jsx(R.pj,{children:e.options}),r.jsx(R.pj,{className:"text-center",children:e.quantity}),r.jsx(R.pj,{children:Z.zW.format(t(e))})]},e.id))}),r.jsx(R.yt,{children:(0,r.jsxs)(R.SC,{children:[r.jsx(R.pj,{colSpan:3,children:"Total"}),r.jsx(R.pj,{className:"text-right",children:Z.zW.format(n)})]})})]})})]})};var Y=t(94942);let X={DELIVERY:{color:"bg-cyan-200 hover:bg-cyan-300 border-cyan-400",label:"Delivery"},TAKEAWAY:{color:"bg-purple-200 hover:bg-purple-300 border-purple-400",label:"Retiro"},TABLE:{color:"bg-blue-200 hover:bg-blue-300 border-blue-400",label:"Mesa"}},I=({type:e})=>{let a=X[e];return r.jsx(Y.C,{className:(0,Z.cn)("text-black",a.color),children:a.label})},V={CASH:{color:"bg-green-400 hover:bg-green-500 border-green-600",label:"Efectivo"},CARD:{color:"bg-blue-400 hover:bg-blue-500 border-blue-600",label:"Tarjeta"},TRANSFER:{color:"bg-violet-400 hover:bg-violet-500 border-violet-600",label:"Transferencia"},QR:{color:"bg-zinc-300 hover:bg-zinc-400 border-zinc-600",label:"QR"}},$=({order:e})=>{let a=V[e.payment];return r.jsx(Y.C,{className:(0,Z.cn)("text-black",a.color),children:a.label})};var K=t(61183);let Q=[{accessorKey:"name",header:"Nombre",enableHiding:!1},{accessorKey:"phone",header:"Tel\xe9fono"},{accessorKey:"type",filterFn:(e,a,t)=>t.includes(e.getValue(a)),header:"Tipo",cell:({row:e})=>r.jsx(I,{type:e.original.type})},{accessorKey:"place",header:"Ubicaci\xf3n",cell:({row:e})=>{let a=e.original.place;return"TAKEAWAY"===e.original.type?r.jsx("div",{className:"truncate max-w-[150px] hover:visible hover:whitespace-normal hover:overflow-auto",children:"Retiro en local"}):r.jsx("div",{className:"truncate max-w-[150px] hover:visible hover:whitespace-normal hover:overflow-auto",children:a||"-"})}},{accessorKey:"comment",header:"Comentario",cell:({row:e})=>{let a=e.original.comment;return r.jsx("div",{className:"truncate max-w-[150px] hover:visible hover:whitespace-normal hover:overflow-auto",children:a||"-"})}},{accessorKey:"products",header:"Productos",cell:({row:e})=>r.jsx(H,{data:e.original.products})},{accessorKey:"status",header:"Estado",filterFn:(e,a,t)=>t.includes(e.getValue(a)),cell:({row:e})=>r.jsx(O.StatusSelect,{order:e.original},`${e.original.id}-${e.original.status}`)},{accessorKey:"payment",header:"M\xe9todo de pago",cell:({row:e})=>r.jsx($,{order:e.original})},{accessorKey:"paymentStatus",header:"Estado de pago",cell:({row:e})=>r.jsx(K.default,{order:e.original},`${e.original.id}-${e.original.paymentStatus}`)},{accessorKey:"createdAt",header:({column:e})=>r.jsx("div",{className:"flex items-center justify-center",children:(0,r.jsxs)(T.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Horario",r.jsx(s,{className:"ml-2 h-4 w-4"})]})}),cell:({row:e})=>{let a=function(e,a){return function(e,a,t){var r;let n,i,o;let s=t?.locale??j.locale??y,l=function(e,a){let t=(0,w.Q)(e),r=(0,w.Q)(a),n=t.getTime()-r.getTime();return n<0?-1:n>0?1:n}(e,a);if(isNaN(l))throw RangeError("Invalid time value");let d=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:l});l>0?(n=(0,w.Q)(a),i=(0,w.Q)(e)):(n=(0,w.Q)(e),i=(0,w.Q)(a));let u=(r=t?.roundingMethod??"round",e=>{let a=(r?Math[r]:Math.trunc)(e);return 0===a?0:a}),c=i.getTime()-n.getTime(),m=c/6e4,h=(c-(P(i)-P(n)))/6e4,p=t?.unit;if("second"===(o=p||(m<1?"second":m<60?"minute":m<1440?"hour":h<43200?"day":h<525600?"month":"year"))){let e=u(c/1e3);return s.formatDistance("xSeconds",e,d)}if("minute"===o){let e=u(m);return s.formatDistance("xMinutes",e,d)}if("hour"===o){let e=u(m/60);return s.formatDistance("xHours",e,d)}if("day"===o){let e=u(h/1440);return s.formatDistance("xDays",e,d)}if("month"===o){let e=u(h/43200);return 12===e&&"month"!==p?s.formatDistance("xYears",1,d):s.formatDistance("xMonths",e,d)}{let e=u(h/525600);return s.formatDistance("xYears",e,d)}}(e,(0,C.L)(e,Date.now()),a)}(new Date(new Date(e.original.createdAt)),{locale:b,addSuffix:!0});return r.jsx("p",{className:"text-center",children:a})}},{id:"actions",enableHiding:!1,cell:({row:e})=>r.jsx(z,{data:e.original})}];var L=t(3376);function J({orders:e}){let[a,t]=(0,n.useState)(e);return(0,i.aF)(),r.jsx(L.DataTable,{data:a,columns:Q,visibility:!0,order:!0})}},14978:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(95249).io)(process.env.NEXT_PUBLIC_SOCKET_URL||"http://localhost:3001")},31058:(e,a,t)=>{"use strict";t.d(a,{aF:()=>i});var r=t(53524);globalThis.prisma||new r.PrismaClient;var n=t(88268);let i=()=>{let e=(0,n.useSession)();return e.data?.user}},68800:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});let r=(0,t(68917).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},30655:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(8031),n=t(41690);let i=()=>r.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:r.jsx(n.Z,{})})},2127:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var r=t(8031),n=t(41690);let i=()=>r.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:r.jsx(n.Z,{})})},99378:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d,metadata:()=>l});var r=t(8031),n=t(72423),i=t(35607);let o=(0,t(77971).createProxy)(String.raw`D:\Workspace\carta-multi-tenant\apps\web\app\(app)\dashboard\@user\ordenes\page.client.tsx#OrdersPageClient`);var s=t(61821);let l={title:"Carta - Admin - \xd3rdenes"};async function d(){let e=await s.Z.order.findMany({include:{products:{include:{product:!0,size:!0,extras:!0}}},orderBy:{createdAt:"desc"}});return(0,r.jsxs)("section",{children:[r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:r.jsx(n.Z,{title:"Ordenes",description:"Administra tus ordenes"})}),r.jsx(i.Z,{}),r.jsx(o,{orders:e})]})}},41690:(e,a,t)=>{"use strict";t.d(a,{Z:()=>i});var r=t(8031),n=t(97693);let i=({className:e})=>(0,r.jsxs)("div",{role:"status",children:[(0,r.jsxs)("svg",{"aria-hidden":"true",className:(0,n.cn)("w-12 h-12  animate-spin text-gray-300 fill-primary",e),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),r.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),r.jsx("span",{className:"sr-only",children:"Cargando..."})]})}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[4974,7795,5295,9843,5825,5003,3617,9525,5575,459,8640,2623,9663,5383,1593,598],()=>t(73698));module.exports=r})();